!function(e){function t(t){for(var s,n,l=t[0],o=t[1],c=t[2],m=0,u=[];m<l.length;m++)n=l[m],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&u.push(i[n][0]),i[n]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e[s]=o[s]);for(d&&d(t);u.length;)u.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],s=!0,l=1;l<a.length;l++){var o=a[l];0!==i[o]&&(s=!1)}s&&(r.splice(t--,1),e=n(n.s=a[0]))}return e}var s={},i={0:0},r=[];function n(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=s,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(a,s,function(t){return e[t]}.bind(null,s));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="";var l=window.webpackJsonp=window.webpackJsonp||[],o=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var d=o;r.push([5,2]),a()}([function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var s=a(1),i=a(2);a(3);function r(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var n=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),e.initialize(),this.setCurrentCampaign(e.currentCampaignID)}var t,a,n;return t=e,n=[{key:"initialize",value:function(){e.details={title:"",targetLink:afwcDashboardParams.home_url,slug:"",campaignId:0,shortDescription:"",body:"",status:"Draft",metaData:{}},e.flags={showNotification:0},e.notification={message:"",status:""}}},{key:"newCampaign",value:function(){e.currentCampaignID=-1,new e}},{key:"saveCampaign",value:function(){i.a.requestHandler({requestData:{cmd:"save_campaign",campaign:JSON.stringify(e.details),security:afwcDashboardParams.security,dashboard:"afwc_campaign_controller"},callback:function(t){"Success"==t.ACK&&(t.last_inserted_id?(e.details.campaignId=t.last_inserted_id,s.a.data.campaigns.push(e.details),e.notification.message="Campaign created successfully"):(s.a.data.campaigns=s.a.data.campaigns.map((function(t){return t.campaignId==e.details.campaignId?e.details:t})),e.notification.message="Campaign updated successfully"),e.flags.showNotification=1,e.notification.status="success",e.currentCampaignID=0)}})}},{key:"deleteCampaign",value:function(){i.a.requestHandler({requestData:{cmd:"delete_campaign",campaign_id:e.currentCampaignID,security:afwcDashboardParams.security,dashboard:"afwc_campaign_controller"},callback:function(t){if("Success"==t.ACK){var a=e.details.campaignId;s.a.data.campaigns=s.a.data.campaigns.filter((function(e){return e.campaignId!=a})),e.currentCampaignID=0,e.flags.showNotification=1,e.notification.message="Campaign deleted successfully",e.notification.status="success"}}})}},{key:"details",get:function(){return e._details},set:function(t){e._details=t}}],(a=[{key:"setCurrentCampaign",value:function(t){var a={};t>0&&(a=s.a.data.campaigns.filter((function(e){return e.campaignId==t}))[0]),e.details={title:a.title||"",targetLink:a.targetLink||afwcDashboardParams.home_url,slug:a.slug||"",campaignId:a.campaignId||0,shortDescription:a.shortDescription||"",body:a.body||"",status:a.status||"Draft",metaData:a.metaData||{}}}}])&&r(t.prototype,a),n&&r(t,n),e}();n.initialize()},function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var s=a(2);function i(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),e.data={kpi:{},campaigns:[]},this.params=t||{},this.fetch()}var t,a,r;return t=e,r=[{key:"data",get:function(){return e._data},set:function(t){e._data=t}}],(a=[{key:"fetch",value:function(){s.a.requestHandler({requestData:{cmd:"fetch_dashboard_data",security:afwcDashboardParams.security,dashboard:"afwc_campaign_controller",campaign_status:afwcDashboardParams.campaign_status||""},callback:function(t){"Success"==t.ACK&&(e.data.kpi=t.result.kpi||{},e.data.campaigns=t.result.campaigns||[])}})}}])&&i(t.prototype,a),r&&i(t,r),e}();r.data={kpi:{},campaigns:[]}},function(e,t,a){"use strict";function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function n(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}a.d(t,"a",(function(){return l}));var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,a,s;return t=e,s=[{key:"requestHandler",value:function(e){var t=new FormData,a={security:afwcDashboardParams.security};for(var s in a=i(i({},a),e.requestData))t.append(s,a[s]);m.request({method:e.method||"POST",url:afwcDashboardParams.ajaxurl,params:{action:a.dashboard},body:t,withCredentials:e.withCredentials||!1,responseType:e.responseType||"json"}).then((function(t){e.hasOwnProperty("callback")&&e.callback(t)}))}},{key:"getDate",value:function(e){var t,a=new Date,s="";switch(e){case"today":t=a,s=a;break;case"yesterday":t=new Date(a.getFullYear(),a.getMonth(),a.getDate()-1),s=new Date(a.getFullYear(),a.getMonth(),a.getDate()-1);break;case"this_week":t=new Date(a.getFullYear(),a.getMonth(),a.getDate()-(a.getDay()-1)),s=a;break;case"last_week":t=new Date(a.getFullYear(),a.getMonth(),a.getDate()-(a.getDay()-1)-7),s=new Date(a.getFullYear(),a.getMonth(),a.getDate()-(a.getDay()-1)-1);break;case"last_4_week":t=new Date(a.getFullYear(),a.getMonth(),a.getDate()-29),s=a;break;case"this_month":t=new Date(a.getFullYear(),a.getMonth(),1),s=a;break;case"last_month":t=new Date(a.getFullYear(),a.getMonth()-1,1),s=new Date(a.getFullYear(),a.getMonth(),0);break;case"3_months":t=new Date(a.getFullYear(),a.getMonth()-2,1),s=a;break;case"6_months":t=new Date(a.getFullYear(),a.getMonth()-5,1),s=a;break;case"this_year":t=new Date(a.getFullYear(),0,1),s=a;break;case"last_year":t=new Date(a.getFullYear()-1,0,1),s=new Date(a.getFullYear(),0,0);break;default:t=new Date(a.getFullYear(),a.getMonth(),1),s=a}return{startDate:t.toISOString().slice(0,10),endDate:s.toISOString().slice(0,10)}}}],(a=null)&&n(t.prototype,a),s&&n(t,s),e}()},function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var s=a(0);function i(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,a,r;return t=e,(a=[{key:"view",value:function(){return setTimeout((function(){if(s.a.flags.showNotification){var e=document.getElementsByClassName("afwc-notification-close");e.length>0&&e[0].click()}}),8e3),m("div",{class:"fixed inset-0 flex items-end justify-center px-4 py-6 pointer-events-none sm:p-6 sm:items-start sm:justify-end",style:"z-index: 200000;"},m("div",{class:"w-full max-w-sm bg-white rounded-lg shadow-lg pointer-events-auto bottom-0 fixed"},m("div",{class:"overflow-hidden rounded-lg shadow-xs"},m("div",{class:("success"!=s.a.notification.status?"failed"==s.a.notification.status?"bg-red-600":"bg-yellow-300":"bg-green-400")+" p-4"},m("div",{class:"flex items-start"},m("div",{class:"flex-shrink-0"},m("svg",{class:"w-6 h-6 text-gray-700",stroke:"currentColor",fill:"none","stroke-width":"2",viewBox:"0 0 24 24"},m("path",{d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"}))),m("div",{class:"ml-3 w-0 flex-1 pt-0.5"},m("p",{class:"mt-1 text-sm leading-5 text-gray-700"},m("span",{id:"header-text"},s.a.notification.message))),m("div",{class:"flex flex-shrink-0 ml-4"},m("button",{class:"afwc-notification-close inline-flex text-gray-400 transition duration-150 ease-in-out focus:outline-none focus:text-gray-500",onclick:function(){setTimeout(s.a.flags.showNotification=0,2e3)}},m("svg",{class:"w-5 h-5",viewBox:"0 0 20 20",fill:"currentColor"},m("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})))))))))}}])&&i(t.prototype,a),r&&i(t,r),e}()},,function(e,t,a){"use strict";a.r(t);a(4);var s=a(0);function i(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,a,s;return t=e,(a=[{key:"view",value:function(){return m("nav",{class:"py-3 text-gray-500 max-h-screen overflow-auto"},m("ul",null,l.data.affiliates.map((function(e,t){return m("li",{class:(0===t?"rounded-tl-lg ":l.data.affiliates.length-1===t?"rounded-bl-lg ":"")+"border-b border-gray-200 bg-gray-50 overflow-hidden",onclick:function(){l.data.currentAffiliateID=e.affiliate_id}},m("a",{href:"#",class:"block py-3 hover:bg-white focus:outline-none focus:bg-white transition duration-150 ease-in-out"+(l.data.currentAffiliateID==e.affiliate_id?" bg-white outline-none":"")},m("div",{class:"flex items-center pl-4 py-2"},m("div",{class:(e.pending?"text-red-400 ":l.data.currentAffiliateID==e.affiliate_id?"text-gray-700 ":"")+"font-medium pr-4 flex-1 sm:truncate"},e.name),m("div",{class:(e.pending?"text-red-400 ":parseFloat(e.earned_commissions)>0?"text-teal-500 ":"text-gray-500")+"text-sm leading-none numeric"},afwcDashboardParams.currencySymbol,e.earned_commissions),m("div",{class:"mx-2"},m("svg",{class:"h-5 w-5 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20"},m("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"}))))))}))))}}])&&i(t.prototype,a),s&&i(t,s),e}();function n(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),e.data={kpi:{},affiliates:[],filters:{},q:""},e.data.showLoader=!1,e.data.firstcall=!0,e.data.currentAffiliateID=0,this.params=t||{},e.data.start_date=e.data.start_date?e.data.start_date:new Date((new Date).setDate((new Date).getDate()-30)).toISOString().slice(0,10),e.data.end_date=e.data.end_date?e.data.end_date:(new Date).toISOString().slice(0,10),e.fetch()}var t,a,s;return t=e,s=[{key:"fetch",value:function(){e.data.showLoader=!0;var t=new FormData,a={cmd:"dashboard_data",security:afwcDashboardParams.security,from_date:e.data.start_date,to_date:e.data.end_date,filters:JSON.stringify(e.data.filters),q:e.data.q};for(var s in a)t.append(s,a[s]);m.request({method:"POST",url:ajaxurl,params:{action:"afwc_dashboard_controller"},body:t,withCredentials:!1,responseType:"json"}).then((function(t){return e.extractData(t)}))}},{key:"extractData",value:function(t){e.data.kpi=t.kpi||{},e.data.affiliates=t.affiliateList||[],e.data.showLoader=!1,e.data.currentAffiliateID=e.data.affiliates.length>0?e.data.affiliates[0].affiliate_id:0}},{key:"data",get:function(){return e._data},set:function(t){e._data=t}}],(a=null)&&n(t.prototype,a),s&&n(t,s),e}();l.data={kpi:{},affiliates:[],filters:{},q:""};var o=a(2);function c(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var d=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),document.onclick=function(e){"afwc-search-field"==e.target.id||e.target.closest("#afwc-search-panel")||document.getElementById("afwc-search-panel").classList.add("hidden")}}var t,a,s;return t=e,(a=[{key:"setFilters",value:function(e,t){if(this.startDate=document.getElementById("start-date").value,this.endDate=document.getElementById("end-date").value,"reset"==e)return l.data.filters={},l.data.q="",document.getElementById("afwc-search-field").value="",void l.fetch();if(l.data.filters[e]||(l.data.filters[e]=[]),l.data.filters[e].indexOf(t)>-1?l.data.filters[e]=l.data.filters[e].filter((function(e){return e!==t})):l.data.filters[e].push(t),!(l.data.firstcall&&l.data.affiliates.length<=0&&"date_filter"!==e)){if(l.data.firstcall=!1,e&&"date_filter"===e){var a=o.a.getDate(t);this.startDate=a.startDate?a.startDate:this.startDate,this.endDate=a.endDate?a.endDate:this.endDate}l.data.start_date=this.startDate,l.data.end_date=this.endDate,l.fetch()}}},{key:"view",value:function(e){var t=this;return m("div",{id:"afwc-search-panel",style:"max-width:fit-content",class:"hidden absolute w-screen px-2 mt-1 transform -translate-x-1/2 left-1/2 sm:px-0 lg:max-w-xl"},m("div",{class:"rounded-lg shadow-lg"},m("div",{class:"overflow-hidden rounded-lg shadow-xs"},m("div",{class:"relative z-20 p-5 bg-white"},m("div",{class:"flex items-center p-3 -m-3 space-x-2"},m("div",{class:"flex items-center justify-center flex-shrink-0 w-10 h-10 text-indigo-600 rounded-md"},m("svg",{class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},m("path",{d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"}))),m("div",{class:"flex items-center text-xs font-medium text-yellow-800"},Object.keys(afwcDashboardParams.afwc_filters.affiliate_status).length>0?Object.keys(afwcDashboardParams.afwc_filters.affiliate_status).map((function(e,a){return m("a",{class:"m-1 px-3 py-0.5 rounded-full cursor-pointer bg-yellow-50 hover:bg-yellow-300 "+(l.data.filters.affiliate_status&&-1!=l.data.filters.affiliate_status.indexOf(e)?"border-yellow-800 border-solid border":""),"data-filter":e,onclick:function(e){e.preventDefault(),setTimeout((function(){document.getElementById("afwc-search-field").focus()}),5e3),t.setFilters("affiliate_status",e.target.getAttribute("data-filter"))}},afwcDashboardParams.afwc_filters.affiliate_status[e])})):"")),m("div",{class:"flex items-center p-3 -m-3 space-x-2"},m("div",{class:"flex items-center justify-center flex-shrink-0 w-10 h-10 text-indigo-600 rounded-md"},m("svg",{class:"w-6 h-6",viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"},m("path",{d:"M19 7h-3V6a3 3 0 0 0-3-3h-2a3 3 0 0 0-3 3v1H5a3 3 0 0 0-3 3v8a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-8a3 3 0 0 0-3-3zm-9-1a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v1h-4zm-6 4a1 1 0 0 1 1-1h1a2 2 0 0 1-2 2zm1 9a1 1 0 0 1-1-1v-1a2 2 0 0 1 2 2zm15-1a1 1 0 0 1-1 1h-1a2 2 0 0 1 2-2zm0-3a4 4 0 0 0-4 4H8a4 4 0 0 0-4-4v-2a4 4 0 0 0 4-4h8a4 4 0 0 0 4 4zm0-4a2 2 0 0 1-2-2h1a1 1 0 0 1 1 1zm-8 0a3 3 0 1 0 3 3 3 3 0 0 0-3-3zm0 4a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"}))),m("div",{class:"flex items-center text-xs font-medium text-green-800"},Object.keys(afwcDashboardParams.afwc_filters.order_status).length>0?Object.keys(afwcDashboardParams.afwc_filters.order_status).map((function(e,a){return m("a",{class:"m-1 px-3 py-0.5 rounded-full cursor-pointer bg-green-50 hover:bg-green-300 "+(l.data.filters.order_status&&-1!=l.data.filters.order_status.indexOf(e)?"border-green-800 border-solid border":""),"data-filter":e,onclick:function(e){e.preventDefault(),t.setFilters("order_status",e.target.getAttribute("data-filter"))}},afwcDashboardParams.afwc_filters.order_status[e])})):"")),m("div",{class:"flex items-center p-3 -m-3 space-x-2"},m("div",{class:"flex items-center justify-center flex-shrink-0 w-10 h-10 text-indigo-600 rounded-md"},m("svg",{class:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},m("path",{d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"}))),m("div",{class:"flex items-center text-xs font-medium text-blue-800"},Object.keys(afwcDashboardParams.afwc_filters.tags).length>0?Object.keys(afwcDashboardParams.afwc_filters.tags).map((function(e,a){return m("a",{class:"m-1 px-3 py-0.5 rounded-full cursor-pointer bg-green-50 hover:bg-green-300 "+(l.data.filters.tags&&-1!=l.data.filters.tags.indexOf(e)?"border-blue-800 border-solid border":""),"data-filter":e,onclick:function(e){e.preventDefault(),t.setFilters("tags",e.target.getAttribute("data-filter"))}},afwcDashboardParams.afwc_filters.tags[e])})):"")),m("div",{class:"flex items-center p-3 -m-3 space-x-2"},m("div",{class:"flex items-center justify-center flex-shrink-0 w-10 h-10 text-indigo-600 rounded-md"},m("svg",{class:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},m("path",{d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"}))),m("div",{class:"inline-flex flex-wrap items-center text-xs font-medium text-orange-800"},Object.keys(afwcDashboardParams.afwc_filters.date_filter).length>0?Object.keys(afwcDashboardParams.afwc_filters.date_filter).map((function(e,a){return m("a",{class:"m-1 px-3 py-0.5 rounded-full cursor-pointer bg-orange-50 hover:bg-orange-300 "+(l.data.filters.date_filter&&-1!=l.data.filters.date_filter.indexOf(e)?"border-orange-800 border-solid border":""),"data-filter":e,onclick:function(e){e.preventDefault(),t.setFilters("date_filter",e.target.getAttribute("data-filter"))}},afwcDashboardParams.afwc_filters.date_filter[e])})):""))),m("div",{class:"py-5 px-7 bg-gray-50"},m("div",{class:"flex items-center space-x-3"},m("div",{class:"text-sm font-medium text-gray-900 w-4/5"},"Search & Filter"),m("div",{class:"text-sm font-medium"},m("a",{class:"cursor-pointer",onclick:function(e){e.preventDefault(),t.setFilters("reset","")}},"Reset Filters"))),m("p",{class:"text-xs text-gray-500"},"Click on a label to filter. Type in the search box to search.")))))}}])&&c(t.prototype,a),s&&c(t,s),e}();function u(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,a,s;return t=e,(a=[{key:"view",value:function(e){return m("div",{class:"absolute w-full mt-48 flex flex-col justify-center text-center items-center space-y-4"},m("div",{class:"text-lg text-gray-600"},e.attrs.msg||""),m("div",{class:"text-indigo-600"},m("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-16 h-16",stroke:"currentColor",fill:"none",viewBox:"0 0 57 57"},m("g",{transform:"translate(1 1)","stroke-width":"2",fill:"none","fill-rule":"evenodd"},m("circle",{cx:"5",cy:"50",r:"5"},m("animate",{attributeName:"cy",begin:"0s",dur:"2.2s",values:"50;5;50;50",calcMode:"linear",repeatCount:"indefinite"}),m("animate",{attributeName:"cx",begin:"0s",dur:"2.2s",values:"5;27;49;5",calcMode:"linear",repeatCount:"indefinite"})),m("circle",{cx:"27",cy:"5",r:"5"},m("animate",{attributeName:"cy",begin:"0s",dur:"2.2s",from:"5",to:"5",values:"5;50;50;5",calcMode:"linear",repeatCount:"indefinite"}),m("animate",{attributeName:"cx",begin:"0s",dur:"2.2s",from:"27",to:"27",values:"27;49;5;27",calcMode:"linear",repeatCount:"indefinite"})),m("circle",{cx:"49",cy:"50",r:"5"},m("animate",{attributeName:"cy",begin:"0s",dur:"2.2s",values:"50;50;5;50",calcMode:"linear",repeatCount:"indefinite"}),m("animate",{attributeName:"cx",from:"49",to:"49",begin:"0s",dur:"2.2s",values:"49;5;27;49",calcMode:"linear",repeatCount:"indefinite"}))))))}}])&&u(t.prototype,a),s&&u(t,s),e}();function p(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var g=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.timeout=null}var t,a,i;return t=e,(a=[{key:"refreshRoute",value:function(){l.data.start_date=document.getElementById("start-date").value,l.data.end_date=document.getElementById("end-date").value,m.route.set("/dashboard")}},{key:"setSearchTerm",value:function(e){clearTimeout(this.timeout),l.data.start_date=document.getElementById("start-date").value,l.data.end_date=document.getElementById("end-date").value,l.data.q=e,""===e&&l.fetch(),e.length<3||l.data.firstcall&&l.data.affiliates.length<=0||(l.data.showLoader=!0,this.timeout=setTimeout((function(){l.fetch()}),4e3))}},{key:"view",value:function(e){var t=this;return m("div",{class:"bg-gray-800"},m("nav",{class:"max-w-7xl mx-auto px-4 xl:px-8 py-2 lg:py-2"},m("div",{class:"flex flex-col lg:items-center lg:flex-row lg:justify-between"},m("div",{class:"flex items-center"},m("div",{class:"flex-shrink-0"},m("h2",{class:"text-2xl font-bold leading-7 text-gray-100 sm:text-3xl sm:leading-9"},"Affiliates")),m("div",{class:""},m("div",{class:"ml-10 lg:ml-6 xl:ml-10 flex items-baseline"},m("a",{href:"#",class:"px-3 py-2 rounded-md text-md mr-2 font-medium text-white focus:outline-none focus:text-white focus:bg-gray-700 "+("/dashboard"===m.route.get()?" bg-gray-900":"")},"Dashboard"),m("a",{href:"#",class:"px-3 py-2 rounded-md text-md font-medium text-white focus:outline-none focus:text-white focus:bg-gray-700 "+("/campaigns"===m.route.get()?" bg-gray-900":""),onclick:function(e){m.route.set("/campaigns"),e.preventDefault()}},"Campaigns")))),m("div",{class:"flex items-center text-right mt-2 lg:mt-0"},"/campaigns"===m.route.get()?m("div",{class:"flex items-center mt-2 text-right lg:mt-0"},m("div",{class:"mr-4"},m("span",{class:"rounded-md shadow-sm"},m("button",{type:"button",class:"inline-flex justify-center w-full px-4 py-1 text-sm font-medium leading-5 text-white transition duration-150 ease-in-out bg-indigo-600 border border-transparent rounded-md hover:bg-indigo-500 focus:outline-none focus:shadow-outline-indigo",onclick:function(){s.a.newCampaign()}},m("svg",{class:"w-5 h-5 mr-2",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24","stroke-width":"2"},m("path",{d:"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"})),"Add a Campaign")))):"","/campaigns"!==m.route.get()?m("div",{class:"flex items-center px-1 text-sm text-gray-400 bg-gray-900 rounded-md lg:mx-2 xl:mx-4"},m("div",{class:"flex lg:ml-0"},m("label",{for:"search_field",class:"sr-only"},"Search"),m("div",{class:"relative w-full"},m("div",{class:"absolute inset-y-0 left-0 flex items-center pointer-events-none"},m("svg",{class:"w-5 h-5 ml-1",fill:"currentColor",viewBox:"0 0 20 20"},m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z"}))),m("input",{onfocusin:function(){document.getElementById("afwc-search-panel").classList.remove("hidden")},oninput:function(e){t.setSearchTerm(e.target.value)},id:"afwc-search-field",class:"py-1 pr-3 text-xs bg-transparent border-transparent form-input pl-7 focus:bg-white focus:border-gray-200",placeholder:"Search"}))),m("div",{class:"flex items-center text-gray-400 text-sm bg-gray-900 lg:mx-2 xl:mx-4 rounded-md"},m("label",{for:"start-date",class:"sr-only"},"Order Date"),m("div",{class:"flex items-center"},m("input",{id:"start-date",type:"date",value:l.data.start_date,class:"form-input w-32 sm:leading-5 py-1 text-xs bg-transparent border-transparent focus:bg-white focus:border-gray-200",placeholder:"start date",onchange:function(){t.refreshRoute()}}),m("span",{class:"px-2 sm:leading-5 pointer-events-none"},"to"),m("input",{id:"end-date",type:"date",value:l.data.end_date,class:"form-input w-32 sm:leading-5 py-1 text-xs bg-transparent border-transparent focus:bg-white focus:border-gray-200",placeholder:"end date",onchange:function(){t.refreshRoute()}})))):"",m("div",{class:"flex items-center ml-4 lg:ml-2"},m("a",{href:"https://docs.woocommerce.com/document/affiliate-for-woocommerce/",target:"_blank",title:"Docs",class:"p-1 border-transparent text-gray-400 rounded-full hover:text-gray-500 focus:outline-none focus:text-gray-500 transition duration-150 ease-in-out"},m("svg",{class:"h-6 w-6",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24"},m("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"}))),m("a",{href:afwcDashboardParams.settingsLink,target:"_blank",title:"Settings",class:"ml-3 p-1 border-transparent text-gray-400 rounded-full hover:text-gray-500 focus:outline-none focus:text-gray-500 transition duration-150 ease-in-out"},m("svg",{class:"h-6 w-6",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24"},m("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),m("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}))))))),m(d,null),l.data.showLoader?m(f,null):null)}}])&&p(t.prototype,a),i&&p(t,i),e}();function h(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var y=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,a,s;return t=e,(a=[{key:"view",value:function(){return m("header",{class:"bg-white shadow"},m("div",{class:"max-w-7xl mx-auto py-8 sm:px-3 xl:px-8"},m("section",{class:"md:flex md:items-center md:justify-between"},m("div",{class:"flex sm:items-top"},m("div",{class:"font-bold leading-tight text-gray-900"},m("p",{class:"text-5xl leading-none font-bold text-indigo-700 flex items-center "},m("span",{class:"text-2xl font-normal mr-1"},afwcDashboardParams.currencySymbol)," ",l.data.kpi.net_affiliates_sales," ",m("span",{class:"text-2xl font-medium ml-1"})),m("p",{class:"mt-1 leading-tight font-medium text-gray-500"},l.data.kpi.percent_of_total_sales,"% of Total Revenue"))),m("div",{class:"flex sm:items-center text-gray-400"},m("div",{class:""},m("p",{class:"text-2xl leading-none font-bold text-gray-700"},l.data.affiliates.length),m("p",{class:"mt-1 leading-6 font-medium text-gray-500"},"Affiliates")),m("svg",{class:"fill-current w-3 h-3 mx-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"},m("path",{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"})),m("div",{class:""},m("p",{class:"text-2xl leading-none font-bold text-gray-700"},l.data.kpi.visitors_count),m("p",{class:"mt-1 leading-6 font-medium text-gray-500"},"Visitors")),m("svg",{class:"fill-current w-3 h-3 mx-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"},m("path",{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"})),m("div",{class:""},m("p",{class:"text-2xl leading-none font-bold text-gray-700"},l.data.kpi.all_customers_count),m("p",{class:"mt-1 leading-6 font-medium text-gray-500"},"Customers")),m("svg",{class:"fill-current w-3 h-3 mx-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"},m("path",{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"})),m("div",{class:""},m("p",{class:"text-2xl leading-none font-bold text-gray-700"},l.data.kpi.conversion_rate,"%"),m("p",{class:"mt-1 leading-6 font-medium text-gray-500"},"Conversion Rate"))))))}}])&&h(t.prototype,a),s&&h(t,s),e}();function x(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var b=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,a,s;return t=e,(a=[{key:"view",value:function(){return m("div",{class:"my-3 mx-3 py-2 rounded-md"},m("div",{class:"flex items-center"},m("div",{class:"flex-shrink-0 flex items-center justify-center h-6 w-6 rounded-full bg-teal-50 text-teal-500"},m("svg",{class:"h-4 w-4",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24"},m("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}))),m("h3",{class:"ml-1 text-base leading-6 font-medium text-teal-500"},"Pending Payouts")),m("div",{class:"mt-2"},m("p",{class:"text-sm leading-5 text-gray-400"},l.data.kpi.unpaid_affiliates," ",1===parseInt(l.data.kpi.unpaid_affiliates)?"affiliate":"affiliates"," need to be paid total commission of ",afwcDashboardParams.currencySymbol,l.data.kpi.unpaid_commissions,".")))}}])&&x(t.prototype,a),s&&x(t,s),e}();function v(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var w=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),e.initialize(),this.params=t||{},this.fetch()}var t,a,s;return t=e,s=[{key:"initialize",value:function(){e.details={name:"",email:"",affiliateId:0,editURL:"",referralURL:"",paypalEmail:"",avatarURL:"",lastPayoutDetails:{},formattedJoinDuration:"",stats:{current:{},allTime:{}},orders:[],payouts:[],tags:{},coupons:{},commission:{},products:{},isReferralCouponEnable:""}}},{key:"details",get:function(){return e._details},set:function(t){e._details=t}}],(a=[{key:"fetch",value:function(){var e=this,t=new FormData,a={cmd:"affiliate_details",security:afwcDashboardParams.security,from_date:this.params.startDate,to_date:this.params.endDate,affiliate_id:this.params.id};for(var s in a)t.append(s,a[s]);m.request({method:"POST",url:ajaxurl,params:{action:"afwc_dashboard_controller"},body:t,withCredentials:!1,responseType:"json"}).then((function(t){return e.extractData(t)}))}},{key:"extractData",value:function(t){e.details={name:t.name||"",email:t.email||"",affiliateId:t.affiliate_id||0,editURL:t.edit_url||"",referralURL:t.referral_url||"",paypalEmail:t.paypal_email||"",avatarURL:t.avatar_url||"",lastPayoutDetails:t.last_payout_details||{},formattedJoinDuration:t.formatted_join_duration||"",stats:t.stats||{current:{},allTime:{}},orders:t.orders_details||[],payouts:t.payout_history||[],tags:t.tags||{},coupons:t.coupons||{},commission:t.commission||{},products:t.top_products||{},isReferralCouponEnable:t.is_referral_coupon_enable||""},t.pending&&(e.details.pending=t.pending)}}])&&v(t.prototype,a),s&&v(t,s),e}();function k(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}w.initialize();var _=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),e.isOrdersTab=!0,this.tabCss="whitespace-no-wrap py-4 px-1 border-b-2 font-medium text-sm text-gray-400 leading-5 focus:outline-none focus:text-indigo-800 focus:border-indigo-700"}var t,a,s;return t=e,s=[{key:"isOrdersTab",get:function(){return e._isOrdersTab},set:function(t){e._isOrdersTab=t}}],(a=[{key:"view",value:function(){return m("header",{class:"flex items-center justify-between mb-2 border-b border-gray-200 -mx-6 -my-6 px-6 pt-6"},m("div",{class:"flex-shrink-0 mb-2"},m("img",{class:"h-12 w-12 rounded-full",src:w.details.avatarURL,alt:""})),m("div",{class:"flex-1 ml-3 mb-2"},m("div",{class:"flex items-center"},m("h3",{class:"text-l block font-bold leading-6 text-gray-900 sm:py-2 sm:text-3xl sm:leading-6 sm:truncate"},w.details.name),m("span",{class:w.details.pending?"invisible ":"visible hidden xl:inline-flex ml-3 px-2 text-xs leading-5 font-semibold rounded-full bg-teal-100 text-teal-500"},"Unpaid Commission: ",afwcDashboardParams.currencySymbol,w.details.stats.current.unpaid_commissions||"0.00"))),m("div",{class:w.details.pending?"invisible ":"visible flex mx-10"},m("div",{class:"sm:hidden"},m("select",{"aria-label":"Selected tab",class:"mt-1 form-select block w-full pl-3 pr-10 py-2 text-base leading-6 border-gray-300 focus:outline-none focus:shadow-outline-indigo focus:border-indigo-300 sm:text-sm sm:leading-5 transition ease-in-out duration-150"},m("option",{selected:""},"Orders"),m("option",null,"Payouts"))),m("div",{class:"hidden sm:block"},m("div",{class:""},m("nav",{class:"-mb-px flex"},m("a",{href:"#",class:e.isOrdersTab?this.tabCss+" text-indigo-600 border-indigo-400":this.tabCss+" border-transparent",onclick:function(){e.isOrdersTab=!0}},"Orders"),m("a",{href:"#",class:(e.isOrdersTab?this.tabCss+" border-transparent":this.tabCss+" text-indigo-600 border-indigo-400")+" ml-8",onclick:function(){e.isOrdersTab=!1}},"Payouts"))))),m("div",{class:"flex"},m("a",{href:"mailto:"+w.details.email,target:"_blank",title:"Email Affiliate",class:"p-1 border-2 border-transparent text-gray-400 rounded-full hover:text-gray-500 focus:outline-none focus:text-gray-500 transition duration-150 ease-in-out"},m("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",class:"w-6 h-6"},m("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"}))),m("a",{href:w.details.editURL,target:"_blank",title:"Manage Affiliate",class:"ml-3 p-1 border-2 border-transparent text-gray-400 rounded-full hover:text-gray-500 focus:outline-none focus:text-gray-500 transition duration-150 ease-in-out"},m("svg",{class:"h-6 w-6",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24"},m("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),m("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})))))}}])&&k(t.prototype,a),s&&k(t,s),e}();function D(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function O(e,t,a){return t&&D(e.prototype,t),a&&D(e,a),e}_.isOrdersTab=!0;var P=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.initialize()}return O(e,[{key:"initialize",value:function(){this.revenue=w.details.stats.current.net_affiliates_sales||"0.00",this.commission=w.details.stats.current.earned_commissions||"0.00"}}]),O(e,[{key:"view",value:function(){return this.initialize(),m("section",{class:"flex flex-col lg:flex-row lg:items-center lg:justify-between text-sm py-4 my-6 text-gray-800"},m("div",{class:"flex items-center justify-between"},m("div",{class:"mr-3"},m("p",{class:"text-2xl leading-none font-medium"},w.details.stats.current.visitors_count||0),m("p",{class:"mt-1 leading-6 text-gray-400"},"Visitors")),m("svg",{class:"text-gray-300 fill-current w-3 h-3 mx-3",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"},m("path",{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"})),m("div",{class:"ml-3"},m("p",{class:"text-2xl leading-none font-medium"},w.details.stats.current.customers_count||0),m("p",{class:"mt-1 leading-6 text-gray-400"},"Customers")),m("svg",{class:"text-gray-300 fill-current w-3 h-3 mx-3",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"},m("path",{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"})),m("div",{class:"ml-3"},m("p",{class:"text-2xl leading-none font-medium"},w.details.stats.current.conversion_rate||0,"%"),m("p",{class:"mt-1 leading-6 text-gray-400"},"Conversion")),m("svg",{class:"hidden lg:inline-block text-gray-300 fill-current w-3 h-3 mx-3",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"},m("path",{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"}))),m("div",{class:"flex items-center justify-between mt-6 lg:mt-0"},m("div",{class:"flex sm:items-center"},m("div",{class:""},m("p",{class:"text-2xl leading-none font-medium flex items-center"},m("span",{class:"text-sm font-normal text-gray-600 mr-1"},afwcDashboardParams.currencySymbol)," ",this.revenue.split(".")[0]," ",m("span",{class:"text-sm"},".",this.revenue.split(".")[1])),m("p",{class:"mt-1 leading-6 text-gray-400"},"Revenue"))),m("svg",{class:"text-gray-300 fill-current w-3 h-3 mx-3",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"},m("path",{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"})),m("div",{class:""},m("p",{class:"text-2xl leading-none font-medium flex items-center"},m("span",{class:"text-sm font-normal text-gray-600 mr-1"},afwcDashboardParams.currencySymbol)," ",this.commission.split(".")[0]," ",m("span",{class:"text-sm"},".",this.commission.split(".")[1])),m("p",{class:"mt-1 leading-6 text-gray-400"},"Commission"))))}}]),e}();function C(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var j=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,a,s;return t=e,(a=[{key:"view",value:function(e){return m("div",{class:"items-center justify-between"},m("div",{class:"flex"},m("h4",{class:"mb-2 text-sm font-medium text-gray-700 uppercase"},"Other Details"),m("a",{href:w.details.editURL,target:"_blank",title:"Manage Affiliate",class:"ml-3 border-2 border-transparent text-gray-400 rounded-full hover:text-gray-500 focus:outline-none focus:text-gray-500 transition duration-150 ease-in-out"},m("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",class:"w-4 h-4"},m("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})))),m("div",{class:"overflow-hidden"},m("table",{class:"min-w-full"},m("tbody",{class:"bg-white"},m("tr",null,m("td",{class:"px-4 py-3 text-sm font-medium leading-5 text-gray-600 whitespace-no-wrap"},"Link"),m("td",{class:"px-4 py-3 text-sm leading-5 text-right text-gray-500 whitespace-no-wrap numeric"},m("div",{class:"mt-1 text-xs text-right text-gray-500"},m("span",null,m("code",null,w.details.referralURL))))),"yes"==w.details.isReferralCouponEnable?m("tr",null,m("td",{class:"px-4 py-3 text-sm font-medium leading-5 text-gray-600 whitespace-no-wrap"},"Referral Coupon"),m("td",{class:"px-4 py-3 text-sm leading-5 text-right text-gray-500 whitespace-no-wrap numeric"},Object.keys(w.details.coupons).length>0?Object.keys(w.details.coupons).map((function(e,t){return m("span",{class:"m-1 px-2 py-0.5 font-mono"},w.details.coupons[e])})):"No coupons")):"",m("tr",null,m("td",{class:"px-4 py-3 text-sm font-medium leading-5 text-gray-600 whitespace-no-wrap"},"Tags"),m("td",{class:"flex flex-wrap items-center justify-end px-4 py-3 text-xs text-gray-600"},Object.keys(w.details.tags).length>0?Object.keys(w.details.tags).map((function(e,t){return m("span",{class:"m-1 px-3 py-0.5 rounded-full bg-gray-50"},w.details.tags[e])})):"No Tags Assigned")),w.details.commission.commission>0?m("tr",null,m("td",{class:"px-4 py-3 text-sm font-medium leading-5 text-gray-600 whitespace-no-wrap"},"Commission ","percentage"===w.details.commission.type?"%":""),m("td",{class:"px-4 py-3 text-sm leading-5 text-right text-gray-500 whitespace-no-wrap numeric"},"flat"===w.details.commission.type?afwcDashboardParams.currencySymbol:"",w.details.commission.commission)):""))))}}])&&C(t.prototype,a),s&&C(t,s),e}();function F(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var T=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,a,s;return t=e,(a=[{key:"view",value:function(e){return m("div",{class:"mr-4 w-1/2 items-center justify-between mt-6 lg:mt-0"},m("h4",{class:"flex-1 mb-2 text-sm font-medium text-gray-700 uppercase"},"Top Products"),m("div",{class:"overflow-hidden"},m("table",{class:"min-w-full"},m("tbody",{class:"bg-white"},Object.keys(w.details.products).length>0&&Object.keys(w.details.products.rows).length>0?Object.keys(w.details.products.rows).map((function(e,t){return m("tr",null,m("td",{class:"px-6 py-3 text-sm font-medium leading-5 text-gray-600 whitespace-no-wrap border-b border-gray-200"},w.details.products.rows[e].product),m("td",{class:"px-6 py-3 text-sm leading-5 text-right text-gray-500 whitespace-no-wrap border-b border-gray-200 numeric"},afwcDashboardParams.currencySymbol,w.details.products.rows[e].sales))})):""))))}}])&&F(t.prototype,a),s&&F(t,s),e}();function M(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var S=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),e.initialize(),this.params=t||{}}var t,a,s;return t=e,s=[{key:"initialize",value:function(){e.flags={loadMore:!0,clearSelections:!1,moreOrdersLoaded:!1}}},{key:"flags",get:function(){return e._flags},set:function(t){e._flags=t}}],(a=[{key:"fetch",value:function(){var t=new FormData,a={cmd:"order_details",security:afwcDashboardParams.security,from_date:this.params.startDate,to_date:this.params.endDate,affiliate_id:this.params.id,page:this.params.currentPage};for(var s in a)t.append(s,a[s]);m.request({method:"POST",url:ajaxurl,params:{action:"afwc_dashboard_controller"},body:t,withCredentials:!1,responseType:"json"}).then((function(t){t.length>0?(e.flags.moreOrdersLoaded=!0,w.details.orders=w.details.orders.concat(t)):(e.flags.moreOrdersLoaded=!1,e.flags.loadMore=!1)}))}},{key:"updateCommissionStatus",value:function(){var t=this,a=new FormData,s={cmd:"update_commission_status",security:afwcDashboardParams.security,order_ids:JSON.stringify(this.params.ids),status:this.params.status};for(var i in s)a.append(i,s[i]);m.request({method:"POST",url:ajaxurl,params:{action:"afwc_dashboard_controller"},body:a,withCredentials:!1,responseType:"json"}).then((function(a){if("Success"===a.ACK){var s=Number(parseFloat(w.details.stats.current.unpaid_commissions||0).toFixed(2)),i=Number(parseFloat(w.details.stats.allTime.unpaid_commissions||0).toFixed(2)),r=Number(parseFloat(w.details.stats.allTime.paid_commissions||0).toFixed(2)),n=Number(parseFloat(l.data.kpi.unpaid_commissions||0).toFixed(2)),o=0;w.details.orders.forEach((function(e,a){-1!==t.params.ids.indexOf(e.order_id)&&(o=Number(parseFloat(w.details.orders[a].commission||0).toFixed(2)),"unpaid"===t.params.status&&"unpaid"!==w.details.orders[a].status?(w.details.stats.current.unpaid_commissions=Number(parseFloat(s+o).toFixed(2)),w.details.stats.allTime.unpaid_commissions=Number(parseFloat(i+o).toFixed(2)),l.data.kpi.unpaid_commissions=Number(parseFloat(n+o).toFixed(2))):"unpaid"!==t.params.status&&"unpaid"===w.details.orders[a].status&&(w.details.stats.current.unpaid_commissions=s>0?Number(parseFloat(s-o).toFixed(2)):s,w.details.stats.allTime.unpaid_commissions=i>0?Number(parseFloat(i-o).toFixed(2)):i,l.data.kpi.unpaid_commissions=n>0?Number(parseFloat(n-o).toFixed(2)):n),"paid"===t.params.status&&"paid"!==w.details.orders[a].status?w.details.stats.allTime.paid_commissions=Number(parseFloat(r+o).toFixed(2)):"paid"!==t.params.status&&"paid"===w.details.orders[a].status&&(w.details.stats.allTime.paid_commissions=r>0?Number(parseFloat(r-o).toFixed(2)):r),w.details.orders[a].status=t.params.status)})),w.details.stats.current.unpaid_commissions=parseFloat(w.details.stats.current.unpaid_commissions).toFixed(2),w.details.stats.allTime.unpaid_commissions=parseFloat(w.details.stats.allTime.unpaid_commissions).toFixed(2),w.details.stats.allTime.paid_commissions=parseFloat(w.details.stats.allTime.paid_commissions).toFixed(2),l.data.kpi.unpaid_commissions=parseFloat(l.data.kpi.unpaid_commissions).toFixed(2),e.flags.clearSelections=!0}}))}}])&&M(t.prototype,a),s&&M(t,s),e}();function z(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}S.initialize();var L=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),e.initialize()}var t,a,s;return t=e,s=[{key:"initialize",value:function(){e.selectedOrders={ids:{},commission:0,unpaidCommission:0,selectAll:!1}}},{key:"handleRowSelection",value:function(t,a){t=Array.isArray(t)?t:[t],e.selectedOrders.selectAll=!!(t.length>1&&a);var s=Number(parseFloat(e.selectedOrders.commission||0).toFixed(2)),i=Number(parseFloat(e.selectedOrders.unpaidCommission||0).toFixed(2)),r=0;t.map((function(t){r=Number(parseFloat(t.commission).toFixed(2)),e.selectedOrders.ids.hasOwnProperty(t.order_id)&&!a?(delete e.selectedOrders.ids[t.order_id],s="rejected"!==t.status&&s>0?Number(parseFloat(s-r).toFixed(2)):s,i="unpaid"===t.status&&i>0?Number(parseFloat(i-r).toFixed(2)):i):!1===e.selectedOrders.ids.hasOwnProperty(t.order_id)&&a&&(e.selectedOrders.ids[t.order_id]={commission:r,pendingPayout:"unpaid"===t.status,date:t.datetime},s="rejected"!==t.status?Number(parseFloat(s+r).toFixed(2)):s,i="unpaid"===t.status?Number(parseFloat(i+r).toFixed(2)):i)})),e.selectedOrders.commission=parseFloat(s).toFixed(2),e.selectedOrders.unpaidCommission=parseFloat(i).toFixed(2)}},{key:"selectedOrders",get:function(){return e._selectedOrders},set:function(t){e._selectedOrders=t}}],(a=[{key:"view",value:function(){return m("table",{class:"min-w-full"},m("thead",null,m("tr",null,m("th",{class:"pl-6 pr-0 py-3 border-b border-gray-200 bg-gray-50 w-6 flex-0"},m("input",{id:"select[0]",checked:e.selectedOrders.selectAll,type:"checkbox",class:"form-checkbox h-4 w-4 text-indigo-600 transition duration-150 ease-in-out",onclick:function(t){e.handleRowSelection(w.details.orders,t.target.checked)}})),m("th",{class:"px-6 py-3 border-b border-gray-200 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider"},"Date"),m("th",{class:"px-6 py-3 border-b border-gray-200 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider"},"Order"),m("th",{class:"px-6 py-3 border-b border-gray-200 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider"},"Commission"),m("th",{class:"hidden xl:table-cell px-6 py-3 border-b border-gray-200 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider"},"Customer"),m("th",{class:"px-6 py-3 border-b border-gray-200 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase text-right"},"Medium"))),m("tbody",{class:"bg-white"},w.details.orders.map((function(t){return m("tr",null,m("td",{class:"pl-6 pr-0 py-4 whitespace-no-wrap border-b border-gray-200 text-sm leading-5 text-gray-800 w-6 flex-0"},m("input",{id:"select[12]",checked:e.selectedOrders.ids.hasOwnProperty(t.order_id),type:"checkbox",class:"form-checkbox h-4 w-4 text-indigo-600 transition duration-150 ease-in-out",onclick:function(a){e.handleRowSelection(t,a.target.checked)}})),m("td",{class:"px-6 py-4 whitespace-no-wrap border-b border-gray-200 text-sm leading-5 text-gray-500"},m("time",{datetime:t.datetime},t.datetime)),m("td",{class:"px-6 py-4 whitespace-no-wrap border-b border-gray-200 text-sm leading-5 text-gray-800"},m("div",{class:"flex items-center"},m("a",{href:t.order_url,target:"_blank",class:"text-indigo-600 hover:text-indigo-900 focus:outline-none focus:underline numeric"},"#",t.order_id),m("span",{class:"ml-3 text-gray-600"},t.order_status),m("span",{class:"hidden xl:inline-block ml-3"},t.currency,t.order_total))),m("td",{class:"px-6 py-4 whitespace-no-wrap border-b border-gray-200 text-sm leading-5 text-gray-500"},m("span",{class:("rejected"===t.status?"line-through ":"")+"font-medium"},t.currency,t.commission),m("span",{class:("rejected"===t.status?"text-red-400":"unpaid"===t.status?"text-teal-400":"text-gray-400")+" ml-3"},t.status.charAt(0).toUpperCase()+t.status.slice(1))),m("td",{class:"hidden xl:table-cell px-6 py-4 whitespace-no-wrap border-b border-gray-200 text-sm leading-5 text-gray-500 truncate"},m("a",{href:t.customer_orders_url,target:"_blank",class:"text-indigo-600 hover:text-indigo-900 focus:outline-none focus:underline numeric"},t.billing_name)),m("td",{class:"px-6 py-4 whitespace-no-wrap border-b border-gray-200 text-xs uppercase leading-5 text-gray-500 text-right"},t.referral_type))}))))}}])&&z(t.prototype,a),s&&z(t,s),e}();function I(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function E(e,t,a){return t&&I(e.prototype,t),a&&I(e,a),e}L.initialize();var N=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),e.initialize(),this.params=t||{}}return E(e,null,[{key:"initialize",value:function(){e.flags={loadMore:!0,PayoutProcessed:!1}}}]),E(e,[{key:"fetch",value:function(){var t=new FormData,a={cmd:"payout_details",security:afwcDashboardParams.security,from_date:this.params.startDate,to_date:this.params.endDate,affiliate_id:this.params.id,page:this.params.currentPage};for(var s in a)t.append(s,a[s]);m.request({method:"POST",url:ajaxurl,params:{action:"afwc_dashboard_controller"},body:t,withCredentials:!1,responseType:"json"}).then((function(t){t.length>0?w.details.payouts=w.details.payouts.concat(t):e.flags.loadMore=!1}))}},{key:"processPayout",value:function(){var t=this,a=new FormData,s={cmd:"process_payout",security:afwcDashboardParams.security,method:this.params.method,affiliates:JSON.stringify(this.params.affiliates),currency:this.params.currency,selected_orders:JSON.stringify(this.params.selectedOrders),date:this.params.date,note:this.params.note};for(var i in s)a.append(i,s[i]);m.request({method:"POST",url:ajaxurl,params:{action:"afwc_dashboard_controller"},body:a,withCredentials:!1,responseType:"json"}).then((function(a){if("Success"===a.ACK&&Object.keys(a.last_added_payout_data).length>0){var s=Number(parseFloat(w.details.stats.current.unpaid_commissions||0).toFixed(2)),i=Number(parseFloat(w.details.stats.allTime.unpaid_commissions||0).toFixed(2)),r=Number(parseFloat(w.details.stats.allTime.paid_commissions||0).toFixed(2)),n=Number(parseFloat(l.data.kpi.unpaid_commissions||0).toFixed(2)),o=a.last_added_payout_data.hasOwnProperty("amount")?Number(parseFloat(a.last_added_payout_data.amount||0).toFixed(2)):0;w.details.stats.current.unpaid_commissions=s>0?Number(parseFloat(s-o).toFixed(2)):s,w.details.stats.allTime.unpaid_commissions=i>0?Number(parseFloat(i-o).toFixed(2)):i,w.details.stats.allTime.paid_commissions=r>0?Number(parseFloat(r+o).toFixed(2)):r,l.data.kpi.unpaid_commissions=n>0?Number(parseFloat(n-o).toFixed(2)):n,w.details.payouts.unshift(a.last_added_payout_data),w.details.orders.map((function(e,a){t.params.selectedOrderIds.indexOf(e.order_id)>-1&&(w.details.orders[a].status="paid")})),w.details.stats.current.unpaid_commissions=parseFloat(w.details.stats.current.unpaid_commissions).toFixed(2),w.details.stats.allTime.unpaid_commissions=parseFloat(w.details.stats.allTime.unpaid_commissions).toFixed(2),w.details.stats.allTime.paid_commissions=parseFloat(w.details.stats.allTime.paid_commissions).toFixed(2),l.data.kpi.unpaid_commissions=parseFloat(l.data.kpi.unpaid_commissions).toFixed(2),e.flags.PayoutProcessed=!0}else e.flags.PayoutProcessed=!1,alert(a.error)}))}}],[{key:"flags",get:function(){return e._flags},set:function(t){e._flags=t}}]),e}();function B(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function A(e,t,a){return t&&B(e.prototype,t),a&&B(e,a),e}N.initialize();var R=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),e.initializeFlags(),this.initialize(t.attrs)}return A(e,[{key:"initialize",value:function(e){this.commission=e.commission||"0.00",this.name=e.name||""}}],[{key:"initializeFlags",value:function(){e.flags={show:!1,payoutMethod:""!=w.details.paypalEmail?"paypal":"paypal-manual"}}}]),A(e,[{key:"onupdate",value:function(e){this.initialize(e.attrs)}},{key:"processPayout",value:function(t){t.preventDefault();var a=[],s=[],i=0;Object.keys(L.selectedOrders.ids).map((function(e){L.selectedOrders.ids[e].pendingPayout&&(i+=parseFloat(L.selectedOrders.ids[e].commission),s.push(e),a.push({order_id:e,commission:L.selectedOrders.ids[e].commission,date:L.selectedOrders.ids[e].date}))}));var r={affiliates:[{id:w.details.affiliateId,email:w.details.paypalEmail,amount:i,unique_id:"afwc_mass_payment"}],selectedOrders:a,selectedOrderIds:s,method:e.flags.payoutMethod,currency:afwcDashboardParams.currencySymbol,date:"date"===t.target[1].type?t.target[1].value:"",note:"textarea"===t.target[1].type?t.target[1].value:t.target[2].value};new N(r).processPayout()}},{key:"view",value:function(t){return N.flags.PayoutProcessed&&(e.initializeFlags(),this.initialize(t.attrs),N.flags.PayoutProcessed=!1),m("div",{class:(e.flags.show?"visible ":"invisible ")+"modal fixed w-full h-full top-0 left-0 sm:flex sm:items-center sm:justify-center"},m("div",{class:"modal-overlay absolute w-full h-full top-0 left-0 bg-gray-800 opacity-50"}),m("div",{"x-show":"open",class:"bg-white rounded-lg overflow-hidden shadow-xl transform transition-all sm:max-w-2xl"},m("form",{class:"px-6 py-6 m-auto shadow rounded-lg bg-white border",onsubmit:this.processPayout},m("div",null,m("h3",{class:"text-lg leading-6 font-medium text-gray-900"},"Pay ",m("strong",null,afwcDashboardParams.currencySymbol,this.commission)," to ",m("strong",null,this.name)),m("p",{class:"mt-1 max-w-2xl text-sm leading-5 text-gray-500"},"Send outstanding commission and/or record the payout.")),m("div",{class:"mt-6 sm:mt-5"},m("div",{class:"mt-4 sm:mt-3"},m("div",{class:"mt-4 sm:mt-3 sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:pt-5"},m("label",{for:"method",class:"block text-sm font-medium leading-5 text-gray-500 sm:mt-px sm:pt-2"},"Payment Method"),m("div",{class:"mt-1 sm:mt-0 sm:col-span-2"},m("div",{class:"max-w-xs rounded-md shadow-sm"},m("select",{id:"method",class:"block form-select w-full transition duration-150 ease-in-out sm:text-sm sm:leading-5",onchange:function(t){e.flags.payoutMethod=t.target.value}},m("option",{value:"paypal",disabled:""==w.details.paypalEmail},"PayPal: Pay & Record"),m("option",{value:"paypal-manual"},"PayPal: Record Only"),m("option",{value:"other"},"Other"))))),"paypal"!==e.flags.payoutMethod?m("div",{class:"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:pt-5"},m("label",{for:"date",class:"block text-sm font-medium leading-5 text-gray-500 sm:mt-px sm:pt-2"},"Record date"),m("div",{class:"mt-1 sm:mt-0 sm:col-span-2"},m("div",{class:"max-w-xs rounded-md shadow-sm"},m("input",{type:"date",value:(new Date).toISOString().slice(0,10),class:"form-input w-32 sm:leading-5 py-1 text-xs bg-transparent border-transparent focus:bg-white focus:border-gray-200",placeholder:"payout date"})))):"",m("div",{class:"mt-4 sm:mt-3 sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:pt-5"},m("label",{for:"notes",class:"block text-sm font-medium leading-5 text-gray-500 sm:mt-px sm:pt-2"},"Notes"),m("div",{class:"mt-1 sm:mt-0 sm:col-span-2"},m("div",{class:"max-w-xs rounded-md shadow-sm"},m("textarea",{id:"notes",rows:"3",class:"form-textarea block w-full transition duration-150 ease-in-out sm:text-sm sm:leading-5 p-2"})))),m("div",{class:"mt-8 border-t border-gray-200 pt-5"},m("div",{class:"flex justify-end"},m("span",{class:"inline-flex rounded-md shadow-sm"},m("button",{type:"button",class:"py-2 px-4 border border-gray-300 rounded-md text-sm leading-5 font-medium text-gray-500 hover:text-gray-700 focus:outline-none focus:border-indigo-300 focus:shadow-outline-indigo active:bg-gray-50 active:text-gray-800 transition duration-150 ease-in-out",onclick:function(){e.flags.show=!1}},"Cancel")),m("span",{class:"ml-3 inline-flex rounded-md shadow-sm"},m("button",{type:"submit",class:"inline-flex justify-center py-2 px-6 border border-transparent text-sm leading-5 font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-500 focus:outline-none focus:border-indigo-700 focus:shadow-outline-indigo active:bg-indigo-700 transition duration-150 ease-in-out"},"Send")))))))))}}],[{key:"flags",get:function(){return e._flags},set:function(t){e._flags=t}}]),e}();function q(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}R.initializeFlags();var U=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.params={id:t.attrs.id||0,startDate:t.attrs.startDate||"",endDate:t.attrs.endDate||"",currentPage:1}}var t,a,s;return t=e,(a=[{key:"loadOrders",value:function(){this.params.currentPage=++this.params.currentPage,this.model=new S(this.params),this.model.fetch()}},{key:"onupdate",value:function(e){var t=this.params.id;this.params=Object.assign(this.params,e.attrs),t!=e.attrs.id&&(this.params.currentPage=1)}},{key:"updateCommissionStatus",value:function(){if(Object.keys(L.selectedOrders.ids).length>0){var e=document.querySelector('[aria-label="Batch Actions"]');new S({ids:Object.keys(L.selectedOrders.ids),status:e.value}).updateCommissionStatus()}else alert("Please select a order")}},{key:"view",value:function(e){var t=this;return this.params.id!=e.attrs.id&&(L.initialize(),S.flags.loadMore=!0),S.flags.moreOrdersLoaded&&L.selectedOrders.selectAll&&L.handleRowSelection(w.details.orders,!0),S.flags.clearSelections&&(L.initialize(),S.flags.clearSelections=!1),N.flags.PayoutProcessed&&L.initialize(),m("section",{class:"mb-4 mt-0 overflow-x-auto"},m("div",{class:"flex items-center pb-3"},m("div",{class:"ml-3"},m("div",{class:(L.selectedOrders.unpaidCommission>0?"":"opacity-50 cursor-not-allowed ")+"cursor-pointer",onclick:function(){R.flags.show=L.selectedOrders.unpaidCommission>0}},m("a",{class:"px-2 text-sm font-medium leading-6 text-indigo-600 hover:text-indigo-800"},"Send Payout: ",afwcDashboardParams.currencySymbol,L.selectedOrders.unpaidCommission))),m("h4",{class:"flex-1 text-lg text-gray-700"}),m("span",{class:"text-gray-400 mr-4 text-sm"},Object.keys(L.selectedOrders.ids).length," ",Object.keys(L.selectedOrders.ids).length>1?"orders":"order",", ",afwcDashboardParams.currencySymbol,L.selectedOrders.commission," commission"),m("select",{"aria-label":"Batch Actions",class:"form-select h-full py-2 pl-2 bg-transparent text-gray-500 sm:text-sm sm:leading-5 disabled:opacity-75"},m("option",{value:"paid"},"Mark as Paid"),m("option",{value:"unpaid"},"Mark as Unpaid"),m("option",{value:"rejected"},"Mark as Rejected")),m("div",{class:"rounded-md shadow-sm ml-4"},m("button",{type:"submit",class:(Object.keys(L.selectedOrders.ids).length>0?"":"opacity-50 cursor-not-allowed ")+"flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-gray-600 hover:bg-gray-500 focus:outline-none focus:border-gray-700 focus:shadow-outline-gray active:bg-gray-700 transition duration-150 ease-in-out disabled:opacity-75",onclick:this.updateCommissionStatus},"Update"))),m(R,{commission:L.selectedOrders.unpaidCommission,name:w.details.name}),m("section",{class:"overflow-y-auto",style:"height:45vh;"},m(L,null)),S.flags.loadMore&&w.details.orders.length>0&&w.details.orders.length%5==0?m("div",{class:"my-3"},m("div",{class:"pb-2 text-center border-b border-gray-200 text-center"},m("a",{href:"#",class:"py-2 px-4 text-sm font-medium text-indigo-400 uppercase",onclick:function(){t.loadOrders()}},"Load More"))):"")}}])&&q(t.prototype,a),s&&q(t,s),e}();function Y(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var V=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,a,s;return t=e,(a=[{key:"view",value:function(){return m("table",{class:"min-w-full"},m("thead",null,m("tr",null,m("th",{class:"px-6 py-3 border-b border-gray-200 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider"},"Date"),m("th",{class:"px-6 py-3 border-b border-gray-200 bg-gray-50 text-right text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider"},"Amount"),m("th",{class:"px-6 py-3 border-b border-gray-200 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider"},"Method"),m("th",{class:"px-6 py-3 border-b border-gray-200 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase text-right"},"Notes"))),m("tbody",{class:"bg-white"},w.details.payouts.map((function(e){return m("tr",null,m("td",{class:"px-6 py-3 whitespace-no-wrap border-b border-gray-200 text-sm leading-5 text-gray-500"},m("time",{datetime:e.datetime},e.datetime)),m("td",{class:"px-6 py-3 whitespace-no-wrap border-b border-gray-200 text-sm leading-5 font-medium text-gray-900"},m("div",{class:"flex items-center flex-row-reverse"},m("span",{class:"numeric text-gray-600"},e.currency,e.amount),m("span",{class:(e.hasOwnProperty("order_count")&&e.hasOwnProperty("from_date")&&e.hasOwnProperty("to_date")?"visible ":"invisible ")+"hidden xl:inline mx-3 text-gray-400 text-xs"},"for ",e.order_count||"-"," ",e.order_count>1?"orders":"order"," from ",e.from_date||"-"," to ",e.to_date||"-"))),m("td",{class:"px-6 py-3 whitespace-no-wrap border-b border-gray-200 text-sm leading-5 text-gray-500"},e.method),m("td",{class:"px-6 py-3 whitespace-no-wrap border-b border-gray-200 text-xs leading-5 text-gray-500 text-right"},e.payout_notes))}))))}}])&&Y(t.prototype,a),s&&Y(t,s),e}();function H(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var J=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.params={id:t.attrs.id||0,startDate:t.attrs.startDate||"",endDate:t.attrs.endDate||"",currentPage:1}}var t,a,s;return t=e,(a=[{key:"loadPayouts",value:function(){this.params.currentPage=++this.params.currentPage,new N(this.params).fetch()}},{key:"onupdate",value:function(e){this.params.id!=e.attrs.id&&(this.params.id=e.attrs.id,this.params.currentPage=1)}},{key:"view",value:function(e){var t=this;return this.params.id!=e.attrs.id&&(N.flags.loadMore=!0),this.commisions=w.details.stats.allTime.earned_commissions||"0.00",this.paidCommisions=w.details.stats.allTime.paid_commissions||"0.00",this.unpaidCommisions=w.details.stats.allTime.unpaid_commissions||"0.00",m("section",null,m("section",{class:"flex items-center justify-between text-sm py-4 my-6 text-gray-800"},m("div",{class:"flex-1 flex items-center justify-between"},m("div",{class:"mr-3"},m("div",{class:"text-2xl leading-none font-medium flex items-center"},m("span",{class:"text-sm font-normal text-gray-600 mr-1"},afwcDashboardParams.currencySymbol)," ",this.commisions.split(".")[0]," ",m("span",{class:"text-sm"},".",this.commisions.split(".")[1])),m("div",{class:"mt-1 leading-6 text-gray-400"},"Commission (All Time)")),m("div",{class:"ml-3"},m("div",{class:"text-2xl leading-none font-medium flex items-center"},m("span",{class:"text-sm font-normal text-gray-600 mr-1"},afwcDashboardParams.currencySymbol)," ",this.paidCommisions.split(".")[0]," ",m("span",{class:"text-sm"},".",this.paidCommisions.split(".")[1])),m("div",{class:"mt-1 leading-6 text-gray-400"},"Paid (All Time)")),m("div",{class:"ml-3"},m("div",{class:"text-2xl leading-none font-medium flex items-center"},m("span",{class:"text-sm font-normal text-gray-600 mr-1"},afwcDashboardParams.currencySymbol)," ",this.unpaidCommisions.split(".")[0]," ",m("span",{class:"text-sm"},".",this.unpaidCommisions.split(".")[1])),m("div",{class:"mt-1 leading-6 text-gray-400"},"Unpaid (All Time)")))),m("section",{class:"my-6"},m("section",{class:"overflow-y-auto",style:"height:45vh;"},m(V,null)),N.flags.loadMore&&w.details.payouts.length>0&&w.details.payouts.length%5==0?m("div",{class:"my-3"},m("div",{class:"pb-2 text-center border-b border-gray-200 text-center"},m("a",{href:"#",class:"py-2 px-4 text-sm font-medium text-indigo-400 uppercase",onclick:function(){t.loadPayouts()}},"Load More"))):""))}}])&&H(t.prototype,a),s&&H(t,s),e}();function W(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var K=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.params={id:t.attrs.id||0,startDate:t.attrs.startDate||"",endDate:t.attrs.endDate||""}}var t,a,s;return t=e,(a=[{key:"refreshModel",value:function(e){var t=this.params.id,a=this.params.startDate,s=this.params.endDate;this.params=Object.assign(this.params,e.attrs),t==e.attrs.id&&a==e.attrs.startDate&&s==e.attrs.endDate||(this.model=new w(this.params))}},{key:"oncreate",value:function(e){this.model=new w(this.params)}},{key:"onupdate",value:function(e){this.refreshModel(e)}},{key:"view",value:function(e){return m("section",{class:(w.details.pending?"border-t-4 border-red-400 ":"")+"px-6 py-6 sm:w-3/4 rounded-lg bg-white shadow"},w.details.pending?m("article",{class:"h-screen w-full"},m(_,null),m("article",{class:"h-screen w-full sm:flex sm:items-center sm:justify-center"},m("a",{href:w.details.editURL,target:"_blank",class:"inline-flex justify-center py-4 px-6 border border-transparent text-lg leading-5 font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-500 focus:outline-none focus:border-indigo-700 focus:shadow-outline-indigo active:bg-indigo-700 transition duration-150 ease-in-out"},"Review & Approve Affiliate"))):m("article",{class:"w-full"},m(_,null),m(P,null),_.isOrdersTab?m(U,{id:this.params.id,startDate:this.params.startDate,endDate:this.params.endDate}):m(J,{id:this.params.id,startDate:this.params.startDate,endDate:this.params.endDate}),m("section",{class:"flex mt-2 mb-4 mt-0 overflow-x-auto"},m(j,null),m(T,null))))}}])&&W(t.prototype,a),s&&W(t,s),e}();function G(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function Q(e,t,a){return t&&G(e.prototype,t),a&&G(e,a),e}var X=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.initialize(t.attrs)}return Q(e,[{key:"initialize",value:function(e){this.startDate=e.startDate||"",this.endDate=e.endDate||""}}]),Q(e,[{key:"view",value:function(e){return this.initialize(e.attrs),m("main",{class:"max-w-7xl mx-auto my-8 py-6 sm:px-3 xl:px-8 sm:flex sm:items-top"},m("section",{class:"sm:w-1/4"},m(b,null),m(r,null)),m(K,{id:l.data.currentAffiliateID,startDate:this.startDate,endDate:this.endDate}))}}]),e}();function Z(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function $(e,t,a){return t&&Z(e.prototype,t),a&&Z(e,a),e}var ee=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.initialize(t.attrs)}return $(e,[{key:"initialize",value:function(e){this.urlParams={},this.model=new l(this.urlParams)}}]),$(e,[{key:"onupdate",value:function(e){this.urlParams!=e.attrs&&Object.keys(e.attrs).length&&this.initialize(e.attrs)}},{key:"view",value:function(){return m("div",null,m(g,{startDate:l.data.start_date,endDate:l.data.end_date}),Object.keys(l.data.kpi).length>0&&l.data.affiliates.length>0?m("[",null,m(y,null),m(X,{startDate:l.data.start_date,endDate:l.data.end_date})):m("header",{class:"bg-white shadow"},m("div",{class:"max-w-7xl mx-auto py-40 sm:px-3 xl:px-8 text-gray-500"},m("p",{class:"text-xl font-medium leading-8 text-center"},"No affiliates yet."),m("div",{class:"text-lg mx-auto leading-8 max-w-sm mt-6 space-y-4"},m("p",null,'Go to "Settings" and select some user roles to automatically make them affiliates.'),m("p",null,"Or edit your affiliate registration form (link available in Settings) and link it from your site."),m("p",null,"Or go to an individual user's profile in WordPress and make them an affiliate.")))))}}]),e}(),te=a(1);function ae(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var se=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,a,s;return t=e,(a=[{key:"view",value:function(){return m("header",{class:"bg-white shadow"},m("div",{class:"max-w-7xl mx-auto py-8 sm:px-3 xl:px-8"},m("section",{class:"md:flex md:items-center md:justify-between"},m("div",{class:"flex sm:items-center text-gray-400"},m("div",{class:""},m("p",{class:"text-2xl leading-none font-bold text-gray-700"},te.a.data.kpi.total_hits),m("p",{class:"mt-1 leading-6 font-medium text-gray-500"},"Visitors")),m("svg",{class:"fill-current w-3 h-3 mx-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"},m("path",{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"})),m("div",{class:""},m("p",{class:"text-2xl leading-none font-bold text-gray-700"},te.a.data.kpi.total_orders),m("p",{class:"mt-1 leading-6 font-medium text-gray-500"},"Orders")),m("svg",{class:"fill-current w-3 h-3 mx-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"},m("path",{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"})),m("div",{class:""},m("p",{class:"text-2xl leading-none font-bold text-gray-700"},te.a.data.kpi.conversion,"%"),m("p",{class:"mt-1 leading-6 font-medium text-gray-500"},"Conversion Rate"))))))}}])&&ae(t.prototype,a),s&&ae(t,s),e}(),ie=a(3);function re(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var ne=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.params={id:t.attrs.id||0}}var t,a,i;return t=e,(a=[{key:"oncreate",value:function(e){wp.editor.remove("campaign-editor-"+s.a.details.campaignId);var t=document.getElementById("campaign-editor-"+s.a.details.campaignId);wp.editor.initialize("campaign-editor-"+s.a.details.campaignId,{tinymce:{wpautop:!0,toolbar1:"bold, italic, strikethrough, bullist, numlist, blockquote, hr, alignleft, aligncenter, alignright, link, unlink, wp_more, spellchecker, fullscreen, wp_adv",toolbar2:"formatselect, underline, alignjustify, forecolor, pastetext, removeformat, charmap, outdent, indent, undo, redo, wp_help"},quicktags:!0,mediaButtons:!0,textarea_rows:40}),tinymce.execCommand("mceAddEditor",!0,"campaign-editor-"+s.a.details.campaignId),tinyMCE.get("campaign-editor-"+s.a.details.campaignId).setContent(s.a.details.body),t.value=s.a.details.body||""}},{key:"updateCampaign",value:function(){var e=document.getElementById("campaign-title").value,t=document.getElementById("campaign-editor-"+s.a.details.campaignId);if(""==e)return s.a.flags.showNotification=1,s.a.notification.message="Please add campaign title",void(s.a.notification.status="error");s.a.details.status=document.getElementById("campaign-status").value,s.a.details.slug=document.getElementById("campaign-slug").value,s.a.details.targetLink=document.getElementById("campaign-link").value,s.a.details.shortDescription=document.getElementById("campaign-short").value;var a,i=tinyMCE.get("campaign-editor-"+s.a.details.campaignId);a=i?i.getContent():t.value,s.a.details.body=a,s.a.saveCampaign()}},{key:"view",value:function(e){var t=this,a="";return""!=s.a.details.slug?(a+=(s.a.details.targetLink.match(/[\?]/g)?"&":"?")+"utm_campaign="+s.a.details.slug,a+=(a.match(/[\?]/g)?"&":"?")+"ref={affiliate_id}"):a+=(s.a.details.targetLink.match(/[\?]/g)?"&":"?")+"ref={affiliate_id}",a=s.a.details.targetLink+a,m("aside",{class:"fixed inset-0 overflow-hidden",style:"z-index: 120000"},m("div",{class:"absolute inset-0 overflow-hidden"},m("div",{class:"absolute inset-0 bg-gray-500 transition-opacity opacity-75"}),m("section",{class:"absolute inset-y-0 right-0 pl-20 max-w-full flex"},m("div",{class:"w-screen max-w-4xl"},m("div",{class:"h-full flex flex-col space-y-6 bg-white shadow-xl overflow-y-scroll"},m("header",{class:"px-4 py-2 sticky top-0 bg-gray-100",style:"z-index:120001"},m("div",{class:"flex items-center justify-between space-x-3"},m("h2",{class:"text-lg leading-7 font-medium text-gray-900"},"Campaign Detail"),m("div",{class:"h-7 flex items-center space-x-3"},m("div",null,m("label",{for:"campaign-status",class:"hidden sr-only"},"Status"),m("select",{id:"campaign-status",class:"form-select pl-3 pr-10 py-2 text-base leading-6 border-gray-100 focus:outline-none focus:shadow-outline-blue  focus:border-blue-100 sm:text-sm sm:leading-5 text-gray-500","aria-label":"Campaign status"},m("option",{value:"Active",selected:"Active"==s.a.details.status?"selected":""}," ","Active"," "),m("option",{value:"Draft",selected:"Draft"==s.a.details.status?"selected":""},"Draft"))),m("button",{type:"button",class:"inline-flex justify-center px-4 py-1 text-sm font-medium leading-5 text-white transition duration-150 ease-in-out bg-indigo-600 border border-transparent rounded-lg hover:bg-indigo-500 focus:outline-none focus:shadow-outline-indigo",onclick:function(){t.updateCampaign()}},"Save"),m("button",{onclick:function(){s.a.deleteCampaign()},"aria-label":"Delete campaign",type:"button",class:"text-gray-400 hover:text-red-600 text-red-800 transition ease-in-out duration-150"},m("svg",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24",class:"w-6 h-6"},m("path",{d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"}))),m("span",{class:"px-2"}),m("button",{"aria-label":"Close panel",class:"text-gray-400 hover:text-gray-500 transition ease-in-out duration-150",onclick:function(){s.a.currentCampaignID=0}},m("svg",{class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},m("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})))))),m("div",{class:"relative flex-1 px-4 sm:px-6"},m("div",{class:"absolute inset-0 px-4 sm:px-6"},m("div",{class:"h-full space-y-6"},m("div",{class:"space-y-1"},m("div",{class:"flex items-baseline space-x-3"},m("label",{for:"campaign-title",class:"text-sm font-medium leading-5 text-gray-900"},"Name"),m("p",{class:"text-xs text-gray-500"},"A descriptive title for this campaign - so affiliates can easily understand purpose of the campaign.")),m("div",{class:"relative rounded-md shadow-sm"},m("input",{id:"campaign-title",class:"form-input block w-full sm:text-sm sm:leading-5 transition ease-in-out duration-150",value:s.a.details.title||"",oninput:function(e){s.a.details.title=e.target.value,s.a.details.slug=e.target.value.toLowerCase().replace(/[^\w ]+/g,"").replace(/ +/g,"-")}}))),m("div",{class:"space-y-1"},m("div",{class:"flex items-baseline space-x-3"},m("label",{for:"campaign-slug",class:"text-sm font-medium leading-5 text-gray-900"},"Slug"),m("p",{class:"text-xs text-gray-500"},"Short text in links for this campaign -",m("code",{class:"font-mono"},a))),m("div",{class:"relative rounded-md shadow-sm w-2/3"},m("input",{id:"campaign-slug",class:"form-input block w-full sm:text-sm sm:leading-5 transition ease-in-out duration-150",value:s.a.details.slug||""}))),m("div",{class:"space-y-1"},m("div",{class:"flex items-baseline space-x-3"},m("label",{for:"campaign-link",class:"text-sm font-medium leading-5 text-gray-900"},"Destination Link"),m("p",{class:"text-xs text-gray-500"},"Want to take campaign visitors to a specific product / landing page? Or shop / home page? Enter it here.")),m("div",{class:"relative rounded-md shadow-sm"},m("input",{id:"campaign-link",class:"form-input block w-full sm:text-sm sm:leading-5 transition ease-in-out duration-150",value:s.a.details.targetLink||""}))),m("div",{class:"space-y-1"},m("div",{class:"flex items-baseline space-x-3"},m("label",{for:"campaign-short",class:"text-sm font-medium leading-5 text-gray-900"},"Short Description"),m("p",{class:"text-xs text-gray-500"},"This will show along with campaign name before people see all the details. Summarize the campaign here.")),m("div",{class:"relative rounded-md shadow-sm"},m("textarea",{id:"campaign-short",rows:"3",class:"form-input block w-full sm:text-sm sm:leading-5 transition ease-in-out duration-150"},s.a.details.shortDescription||""))),m("div",{class:"space-y-1"},m("div",{class:"flex flex-col space-y-2"},m("label",{for:"campaign-editor-"+s.a.details.campaignId,class:"text-sm font-medium leading-5 text-gray-900"},"Full Description"),m("p",{class:"text-xs text-gray-500"},"Use this editor to insert all the details, rules, creatives, swipes, videos, guidelines or anything else you want to present to affiliate partners. Format it well so that they can easily copy out for their own usage."),m("p",{class:"text-xs text-gray-500"},"If you prefer, create a .zip file with multiple assets. Upload it to your WordPress Media, and link the file from here. You can also link to any external resources as usual.")),m("div",{class:"relative pt-3"},m("textarea",{id:"campaign-editor-"+s.a.details.campaignId,row:"60",class:"wp-editor-area",style:"height: 300px;",autocomplete:"off",cols:"40"},s.a.details.body||"")))))))),s.a.flags.showNotification?m(ie.a,null):null)))}}])&&re(t.prototype,a),i&&re(t,i),e}();function le(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var oe=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.params={id:t.attrs.id||0}}var t,a,i;return t=e,(a=[{key:"refreshModel",value:function(e){this.params.id=e,this.model=new s.a}},{key:"view",value:function(){var e=this;return m("section",null,m("h3",{class:"text-lg font-bold text-gray-700 sm:text-3xl leading-8"},"Campaigns"),m("ul",{class:"text-gray-600 py-3 max-h-screen overflow-auto"},te.a.data.campaigns.map((function(t,a){return m("li",{class:"my-6 overflow-hidden text-xs text-gray-400 transition duration-150 ease-in-out bg-white rounded-lg shadow-sm hover:bg-gray-50 focus:outline-none focus:bg-gray-50",onclick:function(){s.a.currentCampaignID=t.campaignId,e.refreshModel(s.a.currentCampaignID)}},m("a",{class:"block py-3 cursor-pointer hover:bg-white focus:outline-none focus:bg-white transition duration-150 ease-in-out"+(s.a.currentCampaignID==t.campaignId?" bg-white outline-none":"")},m("div",{class:"flex items-center pl-4 py-2"},m("div",{class:("Draft"===t.status?"text-gray-400":"text-gray-700")+" text-lg pr-4 flex-1 sm:truncate leading-6"},t.title),m("div",{class:"mx-2"},m("svg",{class:"h-5 w-5 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20"},m("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"}))))))}))),0!==s.a.currentCampaignID?m(ne,{id:s.a.currentCampaignID}):"")}}])&&le(t.prototype,a),i&&le(t,i),e}();function ce(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}s.a.currentCampaignID=0;var de=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,a,s;return t=e,(a=[{key:"view",value:function(e){return m("main",{class:"max-w-7xl mx-auto my-4 py-2 px-8 grid gap-8 grid-cols-3"},m("section",{class:"col-span-2 overflow-y-auto"},m(oe,null)),m("section",{class:"col-span-1 space-y-6 text-gray-500 pt-12 pr-8"},m("p",null,'Campaigns help you organize your marketing and promotional materials (all the logos, banners, swipes, videos, guidelines, giveaways, social media assets and what have you...) in different "buckets".'),m("p",null,"Create a campaign for common media assets, or holiday / offer specific materials, or social media shares, or to run an affiliate competition or anything else that makes sense."),m("p",null,"Each campaign can have a destination landing page of its own and will get a unique link. When affiliates share the campaign's affiliated link, visitors will arrive on the destination link and will be attributed to the campaign."),m("p",null,"Add high quality, well designed graphic assets, email swipes and any other material you'd like to provide to affiliate partners  in the campaign. They can copy / download those assets and quickly start promoting."),m("p",null,"If you find it difficult to add assets / format the campaign page, put everything together in a .zip file and link it from the campaign description so partners can download them easily."),m("p",null,"We track referrals and conversions at both affiliate and campaign level. We will add more reports soon.")))}}])&&ce(t.prototype,a),s&&ce(t,s),e}();function me(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function ue(e,t,a){return t&&me(e.prototype,t),a&&me(e,a),e}var fe=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.initialize(t.attrs)}return ue(e,[{key:"initialize",value:function(e){this.urlParams=Object.keys(e).length?e:{start_date:new Date((new Date).setDate((new Date).getDate()-30)).toISOString().slice(0,10),end_date:(new Date).toISOString().slice(0,10)},this.model=new te.a(this.urlParams)}}]),ue(e,[{key:"onupdate",value:function(e){this.urlParams!=e.attrs&&Object.keys(e.attrs).length&&this.initialize(e.attrs)}},{key:"view",value:function(){return m("div",null,m(g,{startDate:this.urlParams.start_date,endDate:this.urlParams.end_date}),te.a.data.campaigns.length>0?m("[",null,m(se,null),m(de,null)):m("header",{class:"bg-white shadow"},m("div",{class:"max-w-7xl mx-auto py-40 sm:px-3 xl:px-8 text-center text-gray-500"},m("p",{class:"text-xl font-medium leading-8"},"No campaigns yet."),m("div",{class:"text-lg mx-auto leading-8 max-w-md mt-6 space-y-4"},m("p",null,'Go ahead, click that "Add a Campaign" button in the top bar to create your first campaign.'))),-1===s.a.currentCampaignID?m(ne,{id:s.a.currentCampaignID}):""),s.a.flags.showNotification?m(ie.a,null):null)}}]),e}(),pe=document.getElementById("afw-admin-dasboard");m.route(pe,"/dashboard",{"/dashboard":{view:function(e){return[m(ee,e.attrs)]}},"/campaigns":{view:function(e){return[m(fe,e.attrs)]}}})}]);